# Мастер-теорема

Мастер-теорема (Master Theorem) используется для анализа сложности рекурсивных алгоритмов, особенно тех, которые решают задачи с помощью рекурсии, разделяя их на подзадачи одинакового типа (принцип _разделяй и влавствуй_).

Мастер-теорема применима к рекуррентным соотношениям следующего вида:

```math
T(n)= aT\left(\frac{n}{b}\right) + f(n) 
```


где:


| Параметр | Интерпретация                                            |
| -------- | -------------------------------------------------------- |
| a≥1      | количество подзадач, на которые делится исходная задача; |
| b>1      | во сколько раз уменьшается размер каждой подзадачи;      |
| f(n)     | трудоёмкость разбиения и слияния (нерекурсивная часть).  |


### Идея применения

Алгоритм решает задачу из трёх шагов:

1. Делит задачу на `a` подзадач размера `n/b`;
    
2. Рекурсивно решает каждую из них;
    
3. Объединяет результаты за время `f(n)`.
    

Цель — сравнить, что растёт быстрее:

- **рекурсивная часть** aT(n/b),

- или **вспомогательная работа** f(n).
    
От этого зависит итоговая асимптотика T(n).


### Формулировка мастер-теоремы
Пусть $T(n)$ задаётся как выше. Определим $n^{\log_b a}$ — \textbf{количество листьев} в дереве рекурсии. Тогда асимптотика $T(n)$ определяется сравнением $f(n)$ с этой функцией.

#### Случай 1: Работа в листьях доминирует
Если $f(n) = O(n^{\log_b a - \varepsilon})$ для некоторого $\varepsilon > 0$ (т.е. $f(n)$ растёт \textbb{полиномиально медленнее}, чем $n^{\log_b a}$), то:

```math
T(n) = \Theta(n^{\log_b a})
```

#### Случай 2: Работа распределена равномерно по уровням
Если $f(n) = \Theta(n^{\log_b a} \log^k n)$ для некоторого $k \geq 0$ (т.е. $f(n)$ и $n^{\log_b a}$ имеют \textbf{одинаковую скорость роста} с логарифмическим множителем), то:

```math
T(n) = \Theta(n^{\log_b a} \log^{k+1} n)
```

#### Случай 3: Работа в корне доминирует
Если $f(n) = \Omega(n^{\log_b a + \varepsilon})$ для некоторого $\varepsilon > 0$ (т.е. $f(n)$ растёт \textbf{полиномиально быстрее}, чем $n^{\log_b a}$), \textbf{и} выполняется условие регулярности $a f(n/b) \leq c f(n)$ для некоторой константы $c < 1$ и всех достаточно больших $n$, то:

```math
T(n) = \Theta(f(n))
```

